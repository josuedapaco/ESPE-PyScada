{% if item.type == 0 %} <!-- input value -->
    {% if form %}
        <div class="input-group set_value" id="group-{{ form.web_id }}-{{ item.web_id }}-{{ uuid }}">
            <input type="button" class="btn btn-default update-able write-task-btn type-bool {{ item.web_class_str }}" id="{{ form.web_id }}-{{ item.web_id }}-{{ uuid }}" data-key="{{ item.key }}" data-type="{{ item.item_type }}" placeholder="{% if item.control_element_options is not None %}{{ item.control_element_options.placeholder }}{% endif %}" value="{{ item.label }}">
            <div class="btn-group move-buttons">
                <button type="button" class="btn move-up" data-target="#group-{{ form.web_id }}-{{ item.web_id }}-{{ uuid }}">
                    <span class="glyphicon glyphicon-arrow-up"></span> <!-- Flecha hacia arriba -->
                </button>
                <button type="button" class="btn move-down" data-target="#group-{{ form.web_id }}-{{ item.web_id }}-{{ uuid }}">
                    <span class="glyphicon glyphicon-arrow-down"></span> <!-- Flecha hacia abajo -->
                </button>
            </div>
        </div>
        <img src="/media/{{item.image_off}}" alt="" class="myImages" id="image-{{ form.web_id }}-{{ item.web_id }}-{{ uuid }}">
        <style> 
            .myImages{
                height: auto;
                width: 50%;
                display: block;
                margin: auto;
                position: relative;
            }
        </style>
    {% else %}
        <div class="input-group control_button changeButton" id="group-{{ item.web_id }}-{{ uuid }}">
            <button type="button" class="btn btn-default update-able write-task-btn type-bool {{ item.web_class_str }}" id="{{ item.web_id }}-{{ uuid }}" data-key="{{ item.key }}" data-type="{{ item.item_type }}">{{ item.label }}</button>
            <div class="btn-group move-buttons">
                <button type="button" class="btn move-up" data-target="#group-{{ item.web_id }}-{{ uuid }}">
                    <span class="glyphicon glyphicon-arrow-up"></span> <!-- Flecha hacia arriba -->
                </button>
                <button type="button" class="btn move-down" data-target="#group-{{ item.web_id }}-{{ uuid }}">
                    <span class="glyphicon glyphicon-arrow-down"></span> <!-- Flecha hacia abajo -->
                </button>
            </div>
        </div>
        <img src="/media/{{item.image_off}}" alt="" class="myImages" id="image-{{ item.web_id }}-{{ uuid }}">
        <style> 
            .myImages{
                height: auto;
                width: 50%;
                display: block;
                margin: auto;
                position: relative;
            }
        </style>
    {% endif %}
{% elif item.type == 1 %} <!-- display value -->
    <div class="input-group set_value" id="group-{{ item.web_id }}-{{ uuid }}">
        <span class="input-group-addon control-item type-numeric {{ item.web_class_str }}" id="{% if form %}{{ form.web_id }}-{% endif %}{{ item.web_id }}-{{ uuid }}" data-key="{{ item.key }}" data-type="{{ item.item_type }}" data-toggle="tooltip" data-placement="top" title="" data-original-title="" data-html="true">
            {% if item.readable %}
                <button class="btn btn-default read-task-set {{ item.web_class_str }}" type="button" data-key="{{ item.key }}" data-type="{{ item.item_type }}" style="width:16px;height:16px;padding:0;margin:0;">
                    <span class="glyphicon glyphicon-refresh" data-toggle="tooltip" data-placement="top" title="" data-original-title="Refresh data" style="font-size:10px;vertical-align:text-top;"></span>
                </button>
            {% endif %}
            <span style="color:red;height:12px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="Very old value (>10 polling interval)" class="glyphicon glyphicon-alert hidden"></span>
            <span style="color:orange;height:12px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="Old value (between 3 and 10 polling interval)" class="glyphicon glyphicon-exclamation-sign hidden"></span>
            <span class="boolean-value">
              {{ item.label }}
            </span>
        </span>
        <div class="btn-group move-buttons changeButton">
            <button type="button" class="btn move-up" data-target="#group-{{ item.web_id }}-{{ uuid }}">
                <span class="glyphicon glyphicon-arrow-up"></span> <!-- Flecha hacia arriba -->
            </button>
            <button type="button" class="btn move-down" data-target="#group-{{ item.web_id }}-{{ uuid }}">
                <span class="glyphicon glyphicon-arrow-down"></span> <!-- Flecha hacia abajo -->
            </button>
        </div>
    </div>
    <img src="/media/{{item.image_off}}" alt="" class="myImages" id="image-{{ item.web_id }}-{{ uuid }}">
    <style> 
        .myImages{
            height: auto;
            width: 50%;
            display: block;
            margin: auto;
            position: relative;
        }
    </style>
{% endif %}

<script>
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll('.changeButton').forEach(button => {
            button.addEventListener('click', (event) => {
                // Obtén el id del botón que fue presionado
                const uuid = event.target.id.split('-').pop();  // Obtiene el uuid del id del botón
                const image = document.querySelector(`#image-{{ item.web_id }}-${uuid}`);

                // URLs de las imágenes
                const onSrc = '/media/{{item.image_on}}';
                const offSrc = '/media/{{item.image_off}}';

                // Cambiar la imagen según el estado actual
                if (image.src.includes('on')) {
                    image.src = offSrc;
                } else {
                    image.src = onSrc;
                }
            });
        });
    });
</script>

<!-- Image ends here.. -->


<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Mover hacia arriba
        document.querySelectorAll(".move-up").forEach(function (button) {
            button.addEventListener("click", function () {
                const targetId = this.getAttribute("data-target");
                const target = document.querySelector(targetId);
                if (target && target.previousElementSibling) {
                    target.parentNode.insertBefore(target, target.previousElementSibling);
                }
            });
        });

        // Mover hacia abajo
        document.querySelectorAll(".move-down").forEach(function (button) {
            button.addEventListener("click", function () {
                const targetId = this.getAttribute("data-target");
                const target = document.querySelector(targetId);
                if (target && target.nextElementSibling) {
                    target.parentNode.insertBefore(target.nextElementSibling, target);
                }
            });
        });
    });
</script>

<style>
    .move-buttons {
        display: inline-flex; /* Asegura que los botones de flecha estén alineados horizontalmente */
        margin-left: 10px; /* Espacio entre el botón principal y los botones de flecha */
        margin-left: auto; /* Mueve los botones hacia la derecha */

    }

    .move-up, .move-down {
        margin-left: 40px; /* Espacio entre el botón principal y los botones de flecha */
        font-size: 10px; /* Tamaño de la fuente para las flechas */
        padding: 0; /* Eliminar el relleno para que los botones se ajusten al tamaño del icono */
        min-width: 10px; /* Establecer un ancho mínimo para los botones */
        height: 10px; /* Establecer una altura mínima */
        line-height: 8px; /* Alineación del contenido dentro del botón */
        text-align: center; /* Alinear el contenido horizontalmente */
        display: inline-flex; /* Asegurar que los botones se alineen correctamente */
        justify-content: center; /* Centrar el ícono dentro del botón */
        background-color: #f8f9fa; /* Fondo del botón */
        border: 1px solid #ccc; /* Borde suave */
        cursor: pointer; /* Indicador de que es un botón interactivo */
    }

    .move-up:hover, .move-down:hover {
        background-color: #e2e6ea; /* Color de fondo al pasar el ratón */
    }

    .move-up .glyphicon, .move-down .glyphicon {
        font-size: 6px; /* Reducir el tamaño del icono de la flecha */
        vertical-align: middle; /* Centrar el icono verticalmente */
    }
</style>